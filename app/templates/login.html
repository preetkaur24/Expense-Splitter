{% extends "base_public.html" %}

{% block title %}Login | Expense Splitter{% endblock %}

{% block styles %}
<style>
  .auth-page{
    width:100%;
    max-width:520px;
    display:flex;
    flex-direction:column;
    align-items:center;
    gap:36px;
    margin-top:40px;
  }

  .auth-brand{
    font-size:38px;
    font-weight:800;
    letter-spacing:0.8px;
    color:var(--black);
    text-align:center;
  }

  .auth-brand span{
    color:var(--green);
  }

  .auth-card{
    width:100%;
    background:var(--card);
    padding:32px 30px 24px;
    border-radius:18px;
    box-shadow:var(--shadow);
    margin-top:10px;
  }

  .auth-title{
    font-size:22px;
    font-weight:700;
    margin-bottom:4px;
  }

  .auth-subtitle{
    font-size:15px;
    color:var(--muted);
    margin-bottom:18px;
  }

  .form-field{
    margin-bottom:14px;
  }

  .form-label{
    font-size:14px;
    font-weight:600;
    margin-bottom:6px;
    display:block;
  }

  .form-label span{
    color:red;
  }

  .input-wrapper{
    position:relative;
    display:flex;
    align-items:center;
  }

  .auth-input{
    width:100%;
    padding:11px 40px 11px 12px;
    border-radius:10px;
    border:1px solid #d1d5db;
    background:#fafafa;
    font-size:15px;
    outline:none;
    transition:border .15s ease, box-shadow .15s ease, background .15s ease;
  }

  .auth-input:focus{
    border-color:var(--green);
    background:#ffffff;
    box-shadow:0 0 0 2px rgba(22,163,74,0.18);
  }

  .password-toggle{
    position:absolute;
    right:12px;
    cursor:pointer;
    font-size:18px;
    color:#6b7280;
  }

  .btn-primary{
    width:100%;
    padding:11px;
    margin-top:6px;
    border:none;
    border-radius:999px;
    background:var(--green);
    color:#ffffff;
    font-size:15px;
    font-weight:600;
    cursor:pointer;
    transition:background .15s ease, transform .1s ease;
  }

  .btn-primary:hover{
    background:var(--green-600);
    transform:translateY(-1px);
  }

  .auth-links{
    margin-top:14px;
    font-size:15px;
    text-align:center;
    color:var(--muted);
  }

  .auth-link{
    color:var(--green);
    text-decoration:none;
    font-weight:500;
  }

  .auth-link:hover{
    text-decoration:underline;
  }

  .auth-links-sep{
    margin:0 6px;
    color:#c9c9c9;
  }

  #login-error{
    display:none;
    background:#fde2e2;
    color:#b91c1c;
    padding:8px 10px;
    border-radius:8px;
    margin-bottom:10px;
    font-size:13px;
  }
</style>
{% endblock %}

{% block content %}
  <div class="auth-page">
    <div class="auth-brand">
      Expense <span>Splitter</span>
    </div>

    <section class="auth-card">
      <div class="auth-title">Welcome back</div>
      <div class="auth-subtitle">Sign in to continue.</div>

      <div id="login-error"></div>

      <!-- JS handles this form, no action attribute -->
      <form id="login-form" method="post">
        <div class="form-field">
          <label class="form-label">Email <span>*</span></label>
          <div class="input-wrapper">
            <input
              id="email"
              class="auth-input"
              type="email"
              name="email"
              placeholder="you@example.com"
              required
            >
          </div>
        </div>

        <div class="form-field">
          <label class="form-label">Password <span>*</span></label>
          <div class="input-wrapper">
            <input
              id="password"
              class="auth-input"
              type="password"
              name="password"
              placeholder="Enter your password"
              required
            >
            <span class="password-toggle" onclick="togglePassword()">üëÅ</span>
          </div>
        </div>

        <button type="submit" class="btn-primary">Log in</button>

        <div class="auth-links">
          <a href="/auth/forgot-password" class="auth-link">Forgot password?</a>
          <span class="auth-links-sep">|</span>
          <span>New here?
            <a href="/signup" class="auth-link">Create an account</a>
          </span>
        </div>
      </form>
    </section>
  </div>
{% endblock %}

{% block scripts %}
<script>
  // Toggle password visibility without changing layout
  function togglePassword(){
    const input = document.getElementById("password");
    input.type = input.type === "password" ? "text" : "password";
  }
</script>
<script src="/static/js/login.js"></script>
{% endblock %}
