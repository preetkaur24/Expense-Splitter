{% extends "base_public.html" %}

{% block title %}Reset Password - Expense Splitter{% endblock %}

{% block content %}
<div class="page-container">
  <h1>Reset Password</h1>

  <p id="status-text">
    Waiting for recovery token from Supabase...
  </p>

  <form id="reset-form" class="reset-form" style="display: none;">
    <label for="new-password">New password</label>
    <input
      type="password"
      id="new-password"
      name="new-password"
      minlength="8"
      required
    />

    <label for="confirm-password">Confirm new password</label>
    <input
      type="password"
      id="confirm-password"
      name="confirm-password"
      minlength="8"
      required
    />

    <button type="submit">Update password</button>
  </form>

  <p class="back-to-login">
    <a href="/login">Back to login</a>
  </p>
</div>

<script src="/static/js/reset_password.js"></script>

<style>
  .page-container {
    max-width: 480px;
    margin: 2rem auto;
  }
  .reset-form {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
    margin-top: 1rem;
  }
  .reset-form input {
    padding: 0.5rem;
  }
  .reset-form button {
    padding: 0.6rem 1rem;
    cursor: pointer;
  }
  #status-text {
    margin-top: 0.75rem;
    font-size: 0.95rem;
  }
  .back-to-login {
    margin-top: 1rem;
  }
</style>
{% endblock %}
