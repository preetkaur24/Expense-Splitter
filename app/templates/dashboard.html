<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Expense Splitter - Dashboard</title>

  <!--
    DASHBOARD PAGE (team notes)
    - Top bar only (brand + hamburger). No separate hero panel.
    - Sidebar starts COLLAPSED by default; hamburger toggles it.
    - Main shows:
        • Greeting (left)
        • Wallet summary (right; green = owed, red = owe)
        • Two most recent transactions
        • Quick actions + notifications
    - Data keys expected:
        user_name: str
        wallet_balance: number
        balance_class: "positive" | "negative"
        recent_tx: [{name, amount, sign("+"/"-"), date, group}, ...]
        notifications: [str, ...]
  -->

  <style>
    :root{
      /* Theme */
      --green: #16a34a;
      --green-600: #15803d;
      --red: #b91c1c;
      --black: #111111;
      --bg: #f6f7f8;
      --card: #ffffff;
      --muted: #6b7280;

      /* Layout */
      --sidebar-w: 220px;
      --radius: 14px;
      --shadow: 0 8px 20px rgba(0,0,0,0.06);
      --content-max: 1120px;
    }

    * { box-sizing: border-box; }
    body{
      margin:0;
      background: var(--bg);
      color: var(--black);
      font-family: Arial, Helvetica, sans-serif;
      font-size: 15px;
      line-height: 1.35;
    }

    /* ===== Top Bar ===== */
    .topbar{
      position: sticky; top:0; z-index: 40;
      height: 56px;
      background: #fff;
      box-shadow: var(--shadow);
      display:flex; align-items:center; gap:12px;
      padding: 0 14px;
    }
    .brand{
      font-weight: 800;
      font-size: 1.6rem;   /* larger app name per request */
      letter-spacing: .2px;
    }
    .brand .accent{ color: var(--green); }

    /* ===== Shell ===== */
    .layout{
      display: block;      /* sidebar overlays, content stays centered */
      min-height: calc(100dvh - 56px);
    }

    /* Hamburger + toggle */
    #nav-toggle{ display:none; }
    .hamburger{ width: 26px; height: 20px; cursor: pointer; display:grid; gap:5px; }
    .hamburger span{ display:block; height:3px; background: var(--black); border-radius: 2px; }

    /* ===== Sidebar (default: collapsed) =====
       - Hidden by default on ALL widths
       - Slides in when #nav-toggle is checked
    */
    .sidebar{
      position: fixed; left:0; top:56px; z-index: 50;
      width: 0; padding:0;
      height: calc(100dvh - 56px);
      background: #fff;
      box-shadow: var(--shadow);
      overflow: hidden;
      transform: translateX(-100%);
      transition: transform .25s ease, width .25s ease, padding .25s ease;
    }
    /* OPEN state */
    #nav-toggle:checked ~ .layout .sidebar{
      transform: translateX(0);
      width: var(--sidebar-w);
      padding: 14px;
    }

    .nav-title{ font-size:.85rem; color:var(--muted); margin: 6px 8px 10px; }
    .nav{ display:flex; flex-direction: column; gap:6px; }
    .nav a{
      display:flex; align-items:center; gap:10px;
      padding:10px 12px; border-radius:10px; text-decoration:none;
      color:var(--black); font-size: 14px;
    }
    .nav a:hover{ background:#f1f5f9; }
    .nav a.active{ background: #e8f8ee; color: var(--green-600); font-weight:600; }
    .nav a svg{
      width: 18px; height: 18px;
      stroke: currentColor; fill:none; stroke-width:2;
      flex: 0 0 18px;
    }

    /* ===== Main ===== */
    .main{
      padding: 20px;
      max-width: var(--content-max);
      margin-inline: auto;
    }

    /* Panels / cards */
    .panel{
      background: var(--card);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 16px;
    }
    .panel-row{ display:grid; gap:16px; }
    .grid-2{ grid-template-columns: 1.35fr .65fr; }

    h1{ margin:0 0 8px 0; font-size: 1.5rem; }
    h2{ margin:0 0 6px 0; font-size: 1.1rem; }
    .muted{ color: var(--muted); }

    /* Wallet */
    .wallet{ text-align:right; font-weight: 700; }
    .wallet .amount{ font-size: 1.35rem; line-height: 1; }
    .wallet.positive .amount{ color: var(--green-600); }
    .wallet.negative .amount{ color: var(--red); }

    /* Transactions */
    .tx-list{ display:flex; flex-direction: column; gap:10px; }
    .tx{
      display:flex; justify-content:space-between; align-items:center;
      background:#fff; border:1px solid #eef2f7;
      border-radius: 12px; padding:10px 12px;
    }
    .tx .left{ display:flex; flex-direction:column; }
    .tx .name{ font-weight:600; font-size: 14.5px; }
    .tx .meta{ font-size:.9rem; color: var(--muted); }
    .tx .amt{ font-weight:700; font-size: 14.5px; }
    .tx .amt.positive{ color: var(--green-600); }
    .tx .amt.negative{ color: var(--red); }

    /* Quick actions */
    .actions{ display:flex; gap:10px; flex-wrap:wrap; }
    .btn{
      border:1px solid #e5e7eb; background:#fff; border-radius:12px;
      padding:9px 12px; text-decoration:none; color:var(--black); font-weight:600;
      box-shadow: var(--shadow); font-size: 14px;
    }
    .btn:hover{ border-color:#d1d5db; }

    /* Responsive tweaks */
    @media (max-width: 1024px){
      .grid-2{ grid-template-columns: 1fr; }
      .wallet{ text-align:left; }
    }
  </style>
</head>

<body>
  <!-- Top bar -->
  <header class="topbar">
    <label for="nav-toggle" class="hamburger" title="Menu">
      <span></span><span></span><span></span>
    </label>
    <div class="brand">Expense <span class="accent">Splitter</span></div>
  </header>

  <!-- Sidebar toggle (unchecked by default = collapsed) -->
  <input id="nav-toggle" type="checkbox"/>

  <div class="layout">
    <!-- Sidebar navigation -->
    <aside class="sidebar">
      <div class="nav-title">Menu</div>
      <nav class="nav">
        <a class="active" href="/dashboard">
          <!-- Home -->
          <svg viewBox="0 0 24 24"><path d="M3 10.5 12 3l9 7.5v9a1 1 0 0 1-1 1h-5v-6H9v6H4a1 1 0 0 1-1-1z"/></svg>
          Home
        </a>
        <a href="#">
          <!-- Search -->
          <svg viewBox="0 0 24 24"><circle cx="11" cy="11" r="7"/><path d="M20 20l-3.5-3.5"/></svg>
          Search
        </a>
        <a href="#">
          <!-- Groups -->
          <svg viewBox="0 0 24 24"><path d="M7 20a4 4 0 1 1 10 0"/><circle cx="12" cy="8" r="3"/><path d="M2 20a4 4 0 0 1 6-3.46"/><path d="M22 20a4 4 0 0 0-6-3.46"/></svg>
          Groups
        </a>
        <a href="#">
          <!-- Friends -->
          <svg viewBox="0 0 24 24"><circle cx="8" cy="8" r="3"/><circle cx="16" cy="8" r="3"/><path d="M2 20a6 6 0 0 1 12 0"/><path d="M10 20a6 6 0 0 1 12 0"/></svg>
          Friends
        </a>
        <a href="#">
          <!-- History -->
          <svg viewBox="0 0 24 24"><path d="M3 12a9 9 0 1 0 3-6.7"/><path d="M3 3v6h6"/><path d="M12 7v6l4 2"/></svg>
          History
        </a>
        <a href="#">
          <!-- Wallet -->
          <svg viewBox="0 0 24 24"><path d="M3 7h14a4 4 0 0 1 4 4v2a4 4 0 0 1-4 4H3z"/><path d="M17 11h4v2h-4z"/></svg>
          Wallet
        </a>
        <a href="#">
          <!-- Notifications -->
          <svg viewBox="0 0 24 24"><path d="M6 8a6 6 0 1 1 12 0v5l2 3H4l2-3z"/><path d="M9 19a3 3 0 0 0 6 0"/></svg>
          Notifications
        </a>
        <a href="#">
          <!-- Settings -->
          <svg viewBox="0 0 24 24"><path d="M12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/><path d="M19.4 15a1 1 0 0 0 .2 1.1l.1.1a2 2 0 0 1-2.9 2.9l-.1-.1a1 1 0 0 0-1.1-.2 1 1 0 0 0-.6.9V21a2 2 0 0 1-4 0v-.1a1 1 0 0 0-.6-.9 1 1 0 0 0-1.1.2l-.1.1a2 2 0 1 1-2.9-2.9l.1-.1a1 1 0 0 0 .2-1.1 1 1 0 0 0-.9-.6H3a2 2 0 0 1 0-4h.1a1 1 0 0 0 .9-.6 1 1 0 0 0-.2-1.1l-.1-.1a2 2 0 1 1 2.9-2.9l.1.1a1 1 0 0 0 1.1.2h.1c.5-.2.8-.6.8-1.1V3a2 2 0 0 1 4 0v.1c0 .5.3.9.8 1.1h.1a1 1 0 0 0 1.1-.2l.1-.1a2 2 0 1 1 2.9 2.9l-.1.1a1 1 0 0 0-.2 1.1v.1c.2.5.6.8 1.1.8H21a2 2 0 0 1 0 4h-.1a1 1 0 0 0-.9.6z"/></svg>
          Settings
        </a>
      </nav>
    </aside>

    <!-- Main content -->
    <main class="main">
      <!-- Greeting + Wallet -->
      <section class="panel-row grid-2" style="margin-bottom:16px;">
        <div class="panel">
          <h2>Welcome {{ user_name|default('User') }}!</h2>
          <p class="muted">Quick overview of your account.</p>
        </div>
        <div class="panel">
          <div class="wallet {{ balance_class|default('positive') }}">
            <div class="muted">Wallet Balance</div>
            <div class="amount">
              ${{ "%.2f"|format(wallet_balance|default(0.0)) }}
            </div>
            <div class="muted">
              {% if balance_class == 'negative' %}You owe money{% else %}You are owed money{% endif %}
            </div>
          </div>
        </div>
      </section>

      <!-- Recent transactions (top two) -->
      <section class="panel" style="margin-bottom:16px;">
        <h2>Recent Transactions</h2>
        <div class="tx-list">
          {% if recent_tx and recent_tx|length > 0 %}
            {% for t in recent_tx[:2] %}
              <div class="tx">
                <div class="left">
                  <div class="name">{{ t.name }}</div>
                  <div class="meta">{{ t.date }} • {{ t.group }}</div>
                </div>
                <div class="amt {% if t.sign == '+' %}positive{% else %}negative{% endif %}">
                  {{ t.sign }}${{ "%.2f"|format(t.amount) }}
                </div>
              </div>
            {% endfor %}
          {% else %}
            <div class="muted">No recent transactions.</div>
          {% endif %}
        </div>
      </section>

      <!-- Quick actions + notifications -->
      <section class="panel-row" style="margin-bottom:16px;">
        <div class="panel">
          <h2>Quick Actions</h2>
          <div class="actions">
            <a class="btn" href="#">+ Add Expense</a>
            <a class="btn" href="#">Settle Up</a>
            <a class="btn" href="#">Create Group</a>
          </div>
        </div>

        <div class="panel">
          <h2>Notifications</h2>
          <ul style="margin:0; padding-left:18px;">
            {% if notifications and notifications|length > 0 %}
              {% for note in notifications[:4] %}
                <li>{{ note }}</li>
              {% endfor %}
            {% else %}
              <li class="muted">No new notifications.</li>
            {% endif %}
          </ul>
        </div>
      </section>
    </main>
  </div>
</body>
</html>
{% comment %} Open for Review {% endcomment %}